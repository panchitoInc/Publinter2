
<style>
    .text-align-right {
        text-align: right;
    }

    .text-align-left {
        text-align: left;
    }
</style>

<script src="~/Content/Utils.js"></script>
<script src="~/Content/JS/Orden.Datatable.ServerSide.js"></script>

<script>
    $(document).ready(function () {
        var url = "@string.Format("{0}://{1}{2}", Request.Url.Scheme, Request.Url.Authority, Url.Content("~"))/Orden/AjaxGetDataOrdenIndex";
        InitDatatableOrdenIndex(url);
    })

    function InitDatatableOrdenIndex(url) {
        
        var complete = $('#OrdenIndexTabla').DataTable(
                   {
                       "serverSide": true,
                       "destroy": true,
                       "processing": true,
                       "ajax":
                       {
                           url: url,
                           method: "POST"
                       },
                       "columns": [
                           {
                               "data": "Emision",
                               "render": function (data, type, row) {
                                   return data.toLocaleString();
                            }

                           },
                           
                           { "data": "Descripcion" },
                          { "data": "Campania" },
                          { "data": "Total" },
                          {
                              "data": "Acciones",
                              className: "text-align-right",
                              "render": function (data, type, row) {
                                  return '<div class="dropdown"><a class="dropdown-toggle text-align-right" data-toggle="dropdown" href="#" aria-expanded="false">' +
                                              'Acciones <span class="caret"></span>' +
                                            '</a>' +
                                            '<ul class="dropdown-menu">' +
                                              '<li role="presentation"><a class="text-align-center" role="menuitem" tabindex="-1" href="../Orden/DescargarPdf?ordenId=' + row.OrdenId + '">Descargar Pdf</a></li>' +
                                            '</ul>'+
                                            '</div>';
                              }
                          },
                          { "data": "OrdenId", className: "hidden" }
                            ],
                       "language": {
                           "sProcessing": "Procesando...",
                           "sLengthMenu": "Mostrar _MENU_ registros",
                           "sZeroRecords": "No se encontraron resultados",
                           "sEmptyTable": "Ningún dato disponible en esta tabla",
                           "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                           "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                           "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                           "sInfoPostFix": "",
                           "sSearch": "Buscar:",
                           "sUrl": "",
                           "sInfoThousands": ",",
                           "sLoadingRecords": "Cargando...",
                           "oPaginate": {
                               "sFirst": " Primero",
                               "sLast": "Último ",
                               "sNext": "Siguiente",
                               "sPrevious": "Anterior"
                           },

                           "oAria": {
                               "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                               "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                           }
                       }
                   }

               );
    }

    function InitDatatableOrdenIndexsuccess(data,index){

}
</script>

<link href="~/Content/Admin/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet" />

<div class="box">
    <div class="box-header">
        <h3 class="box-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Órdenes</font></font></h3>
    </div>
    <!-- /.box-header -->
    <div class="box-body">
        <div id="example1_wrapper" class="dataTables_wrapper form-inline dt-bootstrap">
            <div class="col-sm-12">
                
                <table id="OrdenIndexTabla" class="table table-bordered table-striped dataTable" role="grid" aria-describedby="example1_info">
                    <thead>
                        <tr>
                            <th>Emisión</th>
                            <th class="no-sort">Descripción</th>
                            <th class="no-sort">Medio</th>
                            <th class="no-sort">Anunciante</th>
                            <th class="no-sort">Campaña</th>
                            <th class="no-sort text-align-right">Total</th>
                            <th class="no-sort text-align-right">Acciones</th>
                            <th class="no-sort hidden">OrdenId</th>
                        </tr>
                    </thead>
                </table>
                
            </div>
        </div>
    </div>
    <!-- /.box-body -->
</div>

<script src="~/Content/Admin/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="~/Scripts/Utils.js"></script>