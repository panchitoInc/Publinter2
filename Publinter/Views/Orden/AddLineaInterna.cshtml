@model Publinter.Models.Orden_Create_Model

<tr class="LineaInterna_@Model.IndexLineaParaAgregar">
    <td rowspan="2">
        <select id="Programa_@(Model.IndexLineaParaAgregar)_@(Model.IndexLineaInternaParaAgregar)" class="Programa" onchange="SetPrograma(@Model.IndexLineaParaAgregar, @Model.IndexLineaInternaParaAgregar)" style="border:none;width: 100px">
            @foreach (var p in Model.ListaProgramas)
            {
                <option value="@p.ProgramaId" data-precio="@p.Precio">@p.Nombre</option>
            }
        </select>

        @Html.HiddenFor(x => x.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].ProgramaId)
    </td>
    <td rowspan="2">
        <select id="Material_@(Model.IndexLineaParaAgregar)_@(Model.IndexLineaInternaParaAgregar)" class="Material" onchange="SetMaterial(@Model.IndexLineaParaAgregar, @Model.IndexLineaInternaParaAgregar)" style="border:none;width: 100px">
            @foreach (var m in Model.ListaMateriales)
            {
                <option value="@m.MaterialId" data-duracion="@m.DuracionSegundos">@m.Titulo</option>
            }
        </select>
        @Html.HiddenFor(x => x.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].MaterialId)
    </td>

    @for (var d = 0; d < Model.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias.Count; d++)
    {
    <td rowspan="2" class="dato dia_@(Model.IndexLineaParaAgregar)_@(Model.IndexLineaInternaParaAgregar)">
        @Html.TextBoxFor(x => x.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias[d].NroEmisiones, new { @class = "txtEmisiones", @onchange = "CalcularTotalLinea(" + Model.IndexLineaParaAgregar + ")" })

        @Html.HiddenFor(x => x.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias[d].DiaId)
        @Html.HiddenFor(x => x.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias[d].DiaNombre)
        @Html.HiddenFor(x => x.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias[d].DiaNumero)
        @Html.HiddenFor(x => x.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias[d].TotalDia)
    </td>
    }

    @if (Model.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias.Count < 31)
    {
        if (Model.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias.Count == 30)
        {
            <td rowspan="2" class="dato hidden"></td>
        }
        if (Model.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias.Count == 29)
        {
            <td rowspan="2" class="dato hidden"></td>
            <td rowspan="2" class="dato hidden"></td>
        }
        if (Model.Lineas[Model.IndexLineaParaAgregar].LineasInternasOrden[Model.IndexLineaInternaParaAgregar].Mes.Dias.Count == 28)
        {
            <td rowspan="2" class="dato hidden"></td>
            <td rowspan="2" class="dato hidden"></td>
            <td rowspan="2" class="dato hidden"></td>
        }
    }
</tr>
<tr></tr>